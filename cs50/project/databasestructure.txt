

notes:
- t_reg now t_Houseprofile


t_Houseprofile (aka t_reg)

houseid [int] (primary - autoiterate) || regcode [int] || address [text] || initiation status (unused(default)/used) [text]

t_Users

userid (primary - autoiterate) [int] || houseid (foreign key) || name [text] || hash || email [text] || color  [text]|| datelogin [date] || dateprev [date]

t_Ledger

ledgerid (primary - autoiterate) || userid (foreign key)|| choreid (foreign key)|| date [date]


t_Choredefault (aka t_choresdefault)

choreid (primary) [int] || chorecategory [text] || chore[text]


u_Chorelist_#

choreid (primary) [int] || chorecategory [text]|| chore  [text]/// do i need the chorecategory and chore if we have the choreid? can we construct them from joins?

            -if i just have the choreid, can i query chorelist and choredefault and create a SQL query result that is the following dictionary:

            [{'choreid': #, 'chorecategory':'kitchen', 'chore': 'mop floor'}]

            which then could be used to print the templates from?



# Things to watch out for

- postgres date time data types. Check that the data types being entered and queries matches.

    - basically get rid of any time component as it breaks comparisons and makes conversions a chore.

https://www.postgresql.org/docs/current/datatype-datetime.html

- column data types - i.e. text/varchar, ints. make sure data type being entered and queries matches



Process

- when you sign up, app creates a row for the house profile which includes random 'regcode' generated by app and address you've entered.
- regcode is entered into database\
- regcode status is entered into database - 'unused'

- regcode is emailed to the user.


- on register (where you enter the regcode), the app queries the db for the 'houseid' and the 'initiation status' based on the regcode entered:

- the app checks to see if the houseprofile has been initiated (checks contents of yes/no)

    - If status is not initiated, then app

            - creates a new table u_Chorelist_#  where '#' is the 'houseid'. u_Chorelist_# is created by copying contents over from t_Choredefault

            - once table is created, app changes initiation status to 'yes'

  - then app creates 'user profile' in t_Users



  - 'Userprofile' has now been created.

  - log chores.....


  
